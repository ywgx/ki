<!DOCTYPE html>
<html lang="en">
<head>
<title>ùë≤ùíä</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="ki">
<meta name="keywords" content="Kubernetes,DevOps,SaltStack,Ansible,ËÖæËÆØ‰∫ë,ÈòøÈáå‰∫ë,Áâ©ËÅîÁΩë,ÈáëËûç‰∫ë">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="//static.xabc.io/vue.css">
<style> .sidebar-nav li{ line-height: 1.50em }</style>
</head>
<body>
<section id="app"></section>

<style>
.xai-ads {
  position: fixed;
  top: 120px;
  right: 20px;
  width: 340px;
  max-width: calc(100vw - 40px);
  max-height: calc(100vh - 150px);
  background: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
  backdrop-filter: blur(20px);
  z-index: 999;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: slideIn 0.5s ease-out;
  cursor: pointer;
  transition: all 0.3s ease;
}

.xai-ads:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(100px); }
  to { opacity: 1; transform: translateX(0); }
}

.xai-ads-link {
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  flex: 1;
}

.xai-ads .img-wrap {
  width: 100%;
  height: 200px;
  background: rgba(0, 0, 0, 0.03);
  overflow: hidden;
}

.xai-ads .img-main {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.xai-ads:hover .img-main {
  transform: scale(1.05);
}

.xai-ads .content {
  padding: 24px;
  flex: 1;
  background: rgba(255, 255, 255, 0.5);
}

.xai-ads .title {
  font-weight: 700;
  font-size: 18px;
  margin-bottom: 12px;
  color: #1a202c;
  line-height: 1.3;
}

.xai-ads .desc {
  color: rgba(0, 0, 0, 0.65);
  font-size: 14px;
  line-height: 1.7;
}

.xai-ads .nav {
  display: flex;
  justify-content: center;
  gap: 12px;
  padding: 16px;
  background: rgba(0, 0, 0, 0.02);
}

.xai-ads .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
}

.xai-ads .dot.active {
  background: #1a202c;
  transform: scale(1.2);
}

/* Ê∑±Ëâ≤Ê®°Âºè */
@media (prefers-color-scheme: dark) {
  .xai-ads {
    background: rgba(26, 32, 44, 0.7);
    border-color: rgba(255, 255, 255, 0.1);
  }
  .xai-ads .content { background: rgba(0, 0, 0, 0.3); }
  .xai-ads .title { color: #e2e8f0; }
  .xai-ads .desc { color: rgba(226, 232, 240, 0.7); }
  .xai-ads .nav { background: rgba(255, 255, 255, 0.02); }
  .xai-ads .dot { background: rgba(255, 255, 255, 0.2); }
  .xai-ads .dot.active { background: #e2e8f0; }
}
</style>

<div id="xai-ads" class="xai-ads" style="display:none">
  <a id="ads-link" class="xai-ads-link" href="" target="_blank">
    <div class="img-wrap">
      <img id="ads-img" class="img-main" src="" alt="">
    </div>
    <div class="content">
      <div id="ads-title" class="title"></div>
      <div id="ads-desc" class="desc"></div>
    </div>
  </a>
  <div id="ads-nav" class="nav"></div>
</div>

<script>
let ads = [], curIdx = 0, timer = null;

function showAd(idx) {
  if (!ads.length) return;

  const ad = ads[idx];

  document.getElementById('ads-img').src = ad.image_url || 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Crect width="100" height="100" fill="%23e2e8f0"/%3E%3C/svg%3E';
  document.getElementById('ads-link').href = ad.link;
  document.getElementById('ads-title').textContent = ad.title;
  document.getElementById('ads-desc').innerHTML = ad.content;

  document.querySelectorAll('.dot').forEach((d, i) =>
    d.classList.toggle('active', i === idx)
  );

  curIdx = idx;
}

function startRotation() {
  if (timer) clearInterval(timer);
  if (ads.length > 1) {
    timer = setInterval(() => showAd((curIdx + 1) % ads.length), 5000);
  }
}

(async () => {
  try {
    const res = await fetch('https://api.xaicontrol.com/x-ads');
    const data = await res.json();
    if (!data.success || !data.ads?.length) return;

    ads = data.ads.sort((a,b) => b.priority - a.priority);

    const nav = document.getElementById('ads-nav');
    if (ads.length > 1) {
      ads.forEach((_, i) => {
        const dot = document.createElement('span');
        dot.className = 'dot';
        dot.onclick = (e) => {
          e.preventDefault();
          showAd(i);
          startRotation();
        };
        nav.appendChild(dot);
      });
    } else {
      nav.style.display = 'none';
    }

    showAd(0);
    document.getElementById('xai-ads').style.display = 'flex';
    startRotation();

  } catch(e) {
    console.error('Ads error:', e);
  }
})();

const container = document.getElementById('xai-ads');
container.addEventListener('mouseenter', () => clearInterval(timer));
container.addEventListener('mouseleave', startRotation);
</script>

<script src="ki.js"></script>
<script src="//static.xabc.io/docsify.min.js"></script>
<script src="//static.xabc.io/search.min.js"></script>
</body>
</html>
